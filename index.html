<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LABO TEST MOYENNE</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #eee; }
        .test-card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .res { font-size: 2.5rem; color: #00853f; font-weight: bold; text-align: center; margin: 20px 0; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1.1rem; }
        label { font-weight: bold; font-size: 0.9rem; color: #555; }
    </style>
</head>
<body>

    <div class="test-card">
        <h2>ðŸ”¬ Test de Logique</h2>
        
        <label>Coefficient :</label>
        <input type="number" id="coef" value="2" oninput="calculerLive()">

        <label>Devoir 1 :</label>
        <input type="number" id="d1" placeholder="Note / 20" oninput="calculerLive()">

        <label>Composition :</label>
        <input type="number" id="comp" placeholder="Note / 20" oninput="calculerLive()">

        <hr>
        <div class="res" id="resultat">--</div>
        <p id="debug" style="font-size: 0.8rem; color: gray; text-align: center;"></p>
    </div>

    <script>
        function calculerLive() {
            // 1. RÃ©cupÃ©ration des valeurs
            let c = parseFloat(document.getElementById('coef').value) || 0;
            let n1 = parseFloat(document.getElementById('d1').value);
            let nc = parseFloat(document.getElementById('comp').value);
            
            let debug = document.getElementById('debug');
            let affichage = document.getElementById('resultat');

            // 2. SÃ©curitÃ© 20/20 (on bloque visuellement)
            if(n1 > 20) { n1 = 20; document.getElementById('d1').value = 20; }
            if(nc > 20) { nc = 20; document.getElementById('comp').value = 20; }

            // 3. Logique de calcul
            if (c > 0 && (!isNaN(n1) || !isNaN(nc))) {
                let moyenneMatiere = 0;
                
                if (!isNaN(n1) && !isNaN(nc)) {
                    moyenneMatiere = (n1 + nc) / 2;
                } else {
                    moyenneMatiere = !isNaN(n1) ? n1 : nc;
                }

                let totalPoints = moyenneMatiere * c;
                affichage.innerText = moyenneMatiere.toFixed(2);
                debug.innerText = `Points: ${totalPoints} | Coef: ${c}`;
            } else {
                affichage.innerText = "--";
                debug.innerText = "En attente de notes et coef...";
            }
        }
    </script>
</body>
</html>

